sudo: true
language: cpp

matrix:
  include:

  # Ubuntu, g++-6
  - os: linux
    dist: xenial
    compiler: gcc
    addons:
        apt:
          update: true
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - libboost-all-dev
            - g++-6
            - qt5-default
    env:
    - MATRIX_EVAL="CC=gcc-6 && CXX=g++-6"
    - LABEL="linux"
    - _DEPLOY="true"

 git:
   submodules: false

before_install:
  - sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodules
  - git submodule update --init --recursive

script:
   - cd conceal-wallet
   - git clone https://github.com/ConcealNetwork/conceal-core.git cryptonote
   - make build-release
   - mkdir bin && mv build/release/CONCEAL-GUI bin/
   - make clean
